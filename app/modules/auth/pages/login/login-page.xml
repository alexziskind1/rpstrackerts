<Page class="page"
    navigatingTo="onNavigatingTo" 
    actionBarHidden="true"
    xmlns="http://schemas.nativescript.org/tns.xsd">

    <GridLayout rows="auto, *" ios:class="auth-container top-safe-full-screen-margin" android:class="auth-container pull-up">

        <StackLayout row="0" class="logo-container">
            <Image src="res://rpslogo" stretch="aspectFit"></Image>
        </StackLayout>

        <StackLayout row="1">
            <GridLayout rows="50, *, auto" class="login-page-wrapper">
                <Label class="title" row="0" text="Login"/>
                <StackLayout row="1">
                    <StackLayout>

                        <StackLayout class="input-field with-validation">
                            <GridLayout columns="*, 25" class="login-field-wrapper">
                                <TextField class="{{ !emailEmpty && emailValid ? 'login-field valid' : 'login-field invalid' }}" hint="Email" text="{{ email }}" col="0">
                                </TextField>
                                <Label class="fa login-icon" text="&#xf0e0;" col="1"></Label>
                            </GridLayout>

                            <StackLayout class="login-field-validation-wrapper">
                                <Label visibility="{{ emailEmpty ? 'visible' : 'collapsed' }}" text="email is missing" class="validation">
                                </Label>
                                <Label visibility="{{ !emailValid ? 'visible' : 'collapsed' }}" text="the email is not in the correct format" class="validation">
                                </Label>
                            </StackLayout>
                        </StackLayout>

                        <StackLayout class="input-field with-validation">
                            <GridLayout columns="*, 25" class="login-field-wrapper">
                                <TextField class="{{ !passwordEmpty ? 'login-field valid' : 'login-field invalid' }}" hint="Password" secure="true" text="{{ password }}" col="0">
                                </TextField>
                                <Label class="fa login-icon" text="&#xf023;" col="1"></Label>
                            </GridLayout>

                            <StackLayout>
                                <StackLayout>
                                    <Label visibility="{{ passwordEmpty ? 'visible' : 'collapsed' }}"
                                        text="password is required" class="validation">
                                    </Label>
                                </StackLayout>
                            </StackLayout>
                        </StackLayout>

                        <Button text="Login" tap="onLoginTap"
                            class="{{ formValid ? 'btn-login btn-primary' : 'btn-login' }}">
                        </Button>

                        <Label class="hr"></Label>

                    </StackLayout>
                </StackLayout>
                <StackLayout row="2" class="bottom-safe-nav">
                    <Label text="Need an account?" class="smaller"/>
                    <Label textTransform="uppercase" class="text-center m-20" color="white" text="Register"/>
                </StackLayout>
            </GridLayout>
        </StackLayout>

    </GridLayout>

</Page>
